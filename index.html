<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">











<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>wagon-git - </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
          </head>
  <body class="composite">
    <div id="banner">
                    <span id="bannerLeft">
    
            wagon-git
    
            </span>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
  

  
    
  
  
    
            <div class="xleft">
        Last Published: 2011-10-17
                      </div>
            <div class="xright">            <a href="${project.url}">wagon-git</a>
            
  

  
    
  
  
    
  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
  

  
    
  
  
    
                             <h5>Project Documentation</h5>
            <ul>
              
                
              
            
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
              
            <li class="expanded">
                    <a href="project-info.html">Project Information</a>
                  <ul>
                  
    <li class="none">
              <strong>About</strong>
        </li>
                  
    <li class="none">
                    <a href="integration.html">Continuous Integration</a>
          </li>
                  
    <li class="none">
                    <a href="dependencies.html">Dependencies</a>
          </li>
                  
    <li class="none">
                    <a href="issue-tracking.html">Issue Tracking</a>
          </li>
                  
    <li class="none">
                    <a href="mail-lists.html">Mailing Lists</a>
          </li>
                  
    <li class="none">
                    <a href="plugin-management.html">Plugin Management</a>
          </li>
                  
    <li class="none">
                    <a href="license.html">Project License</a>
          </li>
                  
    <li class="none">
                    <a href="plugins.html">Project Plugins</a>
          </li>
                  
    <li class="none">
                    <a href="project-summary.html">Project Summary</a>
          </li>
                  
    <li class="none">
                    <a href="team-list.html">Project Team</a>
          </li>
                  
    <li class="none">
                    <a href="source-repository.html">Source Repository</a>
          </li>
              </ul>
        </li>
          </ul>
                                           <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
            <img alt="Built by Maven" src="./images/logos/maven-feather.png"></img>
          </a>
                       
  

  
    
  
  
    
        </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>wagon-git</h2>
<p>A Maven component (a wagon) to deploy artifacts in git repositories, with the Maven repository layout.</p>
</div>
<div class="section"><h2>Quickstart</h2>
<div class="section"><h3>Configuring a Project to use wagon-git</h3>
<div class="section"><h4>Adding wagon-git to a project</h4>
<div class="section"><h5>Setting up the repository</h5>
<p>Add Synergian repos to your pom where wagon-git is released. </p>
<div class="source"><pre>...
&lt;repositories&gt;
  &lt;repository&gt;
    &lt;id&gt;synergian-repo&lt;/id&gt;
    &lt;url&gt;https://raw.github.com/synergian/maven-repo/releases&lt;/url&gt;
  &lt;/repository&gt;
...
&lt;/repositories&gt;
...</pre>
</div>
</div>
<div class="section"><h5>Extensions section</h5>
<p>Add the following extension to your build tag:</p>
<div class="source"><pre>...
&lt;build&gt;
...
  &lt;extensions&gt;
    &lt;extension&gt;
      &lt;groupId&gt;ar.com.synergian&lt;/groupId&gt;
          &lt;artifactId&gt;wagon-git&lt;/artifactId&gt;
          &lt;version&gt;0.1.2&lt;/version&gt;
    &lt;/extension&gt;
  &lt;/extensions&gt;
...
&lt;/build&gt;</pre>
</div>
</div>
</div>
<div class="section"><h4>Configuring remote repositories</h4>
<div class="section"><h5>Configuring remote repositories for GitHub</h5>
<div class="source"><pre>&lt;distributionManagement&gt;
  &lt;repository&gt;
    &lt;id&gt;your-repo-id&lt;/id&gt;
    &lt;name&gt;Your Repo Name&lt;/name&gt;
        &lt;url&gt;git:releases://git@github.com:yourgithubusername/your-github-repo.git&lt;/url&gt;
  &lt;/repository&gt;
&lt;/distributionManagement&gt;</pre>
</div>
</div>
<div class="section"><h5>Adding a second repository for snapshot releases</h5>
<div class="source"><pre>&lt;distributionManagement&gt;
  &lt;repository&gt;
    &lt;id&gt;your-repo-id&lt;/id&gt;
    &lt;name&gt;Your Repo Name&lt;/name&gt;
        &lt;url&gt;git:releases://git@github.com:yourgithubusername/your-github-repo.git&lt;/url&gt;
  &lt;/repository&gt;
  &lt;snapshotRepository&gt;
    &lt;id&gt;your-snapshot-repo-id&lt;/id&gt;
    &lt;name&gt;Your Snapshot Repo Name&lt;/name&gt;
        &lt;url&gt;git:snapshots://git@github.com:yourgithubusername/your-github-repo2.git&lt;/url&gt;
  &lt;/snapshotRepository&gt;
&lt;/distributionManagement&gt;</pre>
</div>
</div>
<div class="section"><h5>Adding a third repository for site deployment</h5>
<div class="source"><pre>&lt;distributionManagement&gt;
  &lt;repository&gt;
    &lt;id&gt;your-repo-id&lt;/id&gt;
    &lt;name&gt;Your Repo Name&lt;/name&gt;
        &lt;url&gt;git:releases://git@github.com:yourgithubusername/your-github-repo.git&lt;/url&gt;
  &lt;/repository&gt;
  &lt;snapshotRepository&gt;
    &lt;id&gt;your-snapshot-repo-id&lt;/id&gt;
    &lt;name&gt;Your Snapshot Repo Name&lt;/name&gt;
        &lt;url&gt;git:snapshots://git@github.com:yourgithubusername/your-github-repo2.git&lt;/url&gt;
  &lt;/snapshotRepository&gt;
  &lt;site&gt;
    &lt;id&gt;your-site-repo-id&lt;/id&gt;
        &lt;url&gt;git:site://git@github.com:yourgithubusername/your-github-repo2.git&lt;/url&gt;
  &lt;/site&gt;
&lt;/distributionManagement&gt;</pre>
</div>
</div>
<div class="section"><h5>GitHub Pages</h5>
<p>Just use the gh-pages branch:</p>
<div class="source"><pre>  ...
  &lt;site&gt;
    &lt;id&gt;your-site-repo-id&lt;/id&gt;
        &lt;url&gt;git:gh-pages://git@github.com:yourgithubusername/your-github-repo2.git&lt;/url&gt;
  &lt;/site&gt;
  ...</pre>
</div>
</div>
</div>
</div>
<div class="section"><h3>Consuming a project deployed in a GitHub repository</h3>
<div class="section"><h4>Adding the repositories</h4>
<div class="source"><pre>    ...
        &lt;repositories&gt;
            ...
                &lt;repository&gt;
                        &lt;id&gt;your-repo-id&lt;/id&gt;
                        &lt;name&gt;Synergian Private Releases&lt;/name&gt;
                        &lt;releases&gt;
                                &lt;enabled&gt;true&lt;/enabled&gt;
                        &lt;/releases&gt;
                        &lt;snapshots&gt;
                                &lt;enabled&gt;false&lt;/enabled&gt;
                        &lt;/snapshots&gt;
                        &lt;!-- 
                           distributionManagement url was
                           &lt;url&gt;git:your-branch://git@github.com:yourgithubusername/your-github-repo.git&lt;/url&gt;
                        --&gt;
                        &lt;url&gt;https://raw.github.com/yourgithubusername/your-github-repo.git/your-branch&lt;/url&gt;
                &lt;/repository&gt;
                ...</pre>
</div>
</div>
</div>
<div class="section"><h3>Consuming a project deployed in a private GitHub repository</h3>
<div class="section"><h4>Configuring settings.xml for authentication</h4>
<p>Proceed the same way, but add basic authentication in your settings.xml</p>
<div class="source"><pre>&lt;settings&gt;
        ...
        &lt;servers&gt;
                &lt;server&gt;
                        &lt;id&gt;your-repo-id&lt;/id&gt;
                        &lt;username&gt;yourgithubusername&lt;/username&gt;
                        &lt;password&gt;yourgithubpassword&lt;/password&gt;
                &lt;/server&gt;
                ...
        &lt;/servers&gt;
        ...
&lt;/settings&gt; </pre>
</div>
<p>Here's a workaround since HTTP basic authentication doesn't seem to be working with default https wagon provider (at least for maven 2.2.1).</p>
<p>The workaround consists of injecting the basic authentication header, computing it manually as follows:</p>
<div class="source"><pre>&lt;settings&gt;
        ...
        &lt;servers&gt;
                &lt;server&gt;
                        &lt;id&gt;your-repo-id&lt;/id&gt;
                        &lt;configuration&gt;
                                &lt;httpHeaders&gt;
                                        &lt;property&gt;
                                                &lt;name&gt;Authorization&lt;/name&gt;
                                                &lt;value&gt;BASIC-AUTH HEADER VALUE&lt;/value&gt;
                                        &lt;/property&gt;
                                &lt;/httpHeaders&gt;
                        &lt;/configuration&gt;
                &lt;/server&gt;
                ...
        &lt;/servers&gt;
        ...
&lt;/settings&gt; </pre>
</div>
<p>You can compute BASIC-AUTH HEADER VALUE with this bash script, for instance:</p>
<div class="source"><pre>#!/bin/bash
#
# A small command that computes &quot;Authorization&quot; HTTP-header for basic
# authentication.

read -p &quot;Username: &quot; username
read -s -p &quot;Password: &quot; password
echo &quot;&quot;
encoded=`echo -n &quot;$username:$password&quot; | base64`
echo &quot;Basic $encoded&quot;</pre>
</div>
<p>Notice that the value is NOT a hash value, it's the Base-64 encoded value of your password. Don't publish it. </p>
</div>
</div>
</div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2011
    
          
  

  
    
  
  
    
  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
